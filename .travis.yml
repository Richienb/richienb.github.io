# Disable sudo to speed up build
sudo:             false

# Set the build language
language:         python

# Set the build language version
python:           3.6.6

# Set build branch
branches:         master

cache:
  directories:
    # Cache the .cache directory
    - $HOME/.cache

install:
  # Install the required dependency
  - pip install pyspelling

script:
  # Check for spelling errors
  - pyspelling
  
after_script:
  # Clear CloudFlare cache
  - |
    curl -X DELETE "https://api.cloudflare.com/client/v4/zones/${cf_zone_id}/purge_cache" \
     -H "X-Auth-Email: ${email}" \
     -H "X-Auth-Key: ${cf_api_key}" \
     -H "Content-Type: application/json" \
     --data '{"purge_everything":true}'

notifications:
  # Disable emails for build status notifications
  email:          false
